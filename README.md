# Zebra - Code Diff Editor Widget

## Рабочие комментарии для себя - оставляю для демонстрации мышления

**Идея:**
Делаю десктопное приложение, в нем можно сгенерировать какой то код или вставить его или написать с нуля.
Нажать на кнопку и написать промпт, чтобы код превратился в то что нужно и слева был старый код и справа в этом случае появлялся новый код.
Была возможность выбрать режим отображения (слева старый, справа новый) / все в одном поле, просто в перемешку. В обоих вариантах будет подсветка синтаксиса как в github, vscode, показывающая удаленные, добавленные строки. Во всех полях, которые показывают сгененированный или исправленный код можно редавтировать код.

Должны быть кнопки назад, чтобы отменить генерацию кода или свои изменения которые добавил в код. Должно быть можно перегенерировать код с нуля, на основе исходника с дополнительным уведомлением, что эти действия повлекут потерю всех изменений в текущем коде.

После открытия приложения сразу будет видно два поля слева и справа. Сверху меню, поля для ввода промпта и кнопка выполнить, кнопки назад, вперед, сохранить, сохранить как. В левое можно писать, а можно перетащить файл с кодом.

Для больших файлов продумать механизм отложенной отрисовки.
Подсветка синтаксиса в режиме реального времени.

**План:**
День 1
- [x] Создаю струкуту проекта
- [x] Реализую основное окно и две панели слева и справа - редактирование и отображения итогового кода
- [x] Реализую меню и тулбар (промпт, выполнить, сохранить, назад, вперед, режим отображения колонок)
- [x] Настроить поддержку кнопок назад вперед
- [x] Настраиваю drag-and-drop или вставить текст в левую панель
- [x] Реализую заглушку аи по клику на кнопку выполнить
- [x] Реализую простую логику разницы через difflib - новое или измененное подсвечивается в правом поле зеленым в режиме реального времени
- [x] Добавляю нумерованные строки

День 2
- [] Организую положение поля промпта, главных полей и кнопок
- [] Реализую поддержку раскрытия немодифицированных блоков
- [] Добавляю поддержку двух режимов: inline, side by side
- [] Отлаживаю визуальное выделение новых, удаленных строк
- [] Отлаживаю генерацию разницы между версиями кода в режие реального времени
- [] Добавляю уведомление при процессе перегенерации, когда что-то есть в правом поле

День 3
- [] Реализую lazy diff для больших файлов + прогресс бар
- [] Добавляю поддержку сохранить, сохранить как
- [] Шлифую стили, шрифты
- [] Добавляю поддержку смены тем (темная, светлая)
- [] Подключаю подсветку синтаксиса (сделать хотя бы для одного языка, например, python, можно вынести в настройки и добавить галочки, чтобы пользователь мог включать только используемые им языки, так разгрузим систему)
- [] Шлифую README
- [] Готовлю установочный пакет
- [] Записываю скринкаст